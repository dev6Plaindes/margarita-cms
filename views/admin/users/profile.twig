{% extends "admin/layouts/main.twig" %}

{% block aside %}
	{% include 'admin/layouts/partials/aside.twig' with { 'aside': 'user.profile' } %}
{% endblock %}

{% block breadcrumb %}
    {% include 'admin/layouts/partials/breadcrumb.twig' with { 'breadcrumb': 'user.profile' } %}
{% endblock %}

{% block css %}
<style>
    .minicolors-swatch{
        top: 8px !important;
        left: 5px !important;
    }
</style>
{% endblock %}

{% block content %}
{% set data = rsp.data %}
{% set notfound = '/assets/image/notfound.png' %}
<div class="container" id="AppProfileUserAdmin">
    <div class="card card-custom">
        <div class="card-header card-header-tabs-line nav-tabs-line-3x">
            <div class="card-toolbar">
                <ul class="nav nav-tabs nav-bold nav-tabs-line nav-tabs-line-3x">
                    <li class="nav-item mr-3">
                        <a class="nav-link active" data-toggle="tab" href="#kt_user_edit_tab_1">
                            <span class="nav-icon">
                                <i class="fas fa-pen-nib" aria-hidden="true"></i>
                            </span>
                            <span class="nav-text font-size-lg">Personal</span>
                        </a>
                    </li>
                    <li class="nav-item mr-3">
                        <a class="nav-link" data-toggle="tab" href="#kt_user_edit_tab_2">
                            <span class="nav-icon">
                                <i class="fas fa-external-link-alt" aria-hidden="true"></i>
                            </span>
                            <span class="nav-text font-size-lg">Contraseña</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="card-body">
            <div class="tab-content">
                <div class="tab-pane show active px-7" id="kt_user_edit_tab_1" role="tabpanel">
                    <form class="form" @submit="onFormData">
                        <div class="row justify-content-center">
                            <div class="col-xl-9">
                                <input name="panel" type="hidden" value="general" />
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Nombres</label>
                                    <div class="col-lg-9 col-xl-9">
                                        <input class="form-control form-control-solid form-control-lg" name="name" type="text" :value="user.name" required/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Apellidos</label>
                                    <div class="col-lg-9 col-xl-9">
                                        <input class="form-control form-control-solid form-control-lg" name="lastname" type="text" :value="user.lastname" required/>
                                    </div>
                                </div>
                                {# <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Imagen</label>
                                    <div class="col-lg-9 col-xl-9">
                                        <div class="image-input image-input-outline" id="kt_image_1">
                                            <div class="image-input-wrapper" style="background-image: url({{ data.company.logo ? data.company.logo : notfound }}); background-repeat: no-repeat; background-size: 100% 100%;"></div>
                                            <label class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow" data-action="change" data-toggle="tooltip" title="" data-original-title="Cambiar logo">
                                                <i class="fa fa-pen icon-sm text-muted"></i>
                                                <input type="file" name="logo" accept=".png, .jpg, .jpeg" />
                                                <input type="hidden" name="logo_remove" />
                                            </label>
                                            <span class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow" data-action="cancel" data-toggle="tooltip" title="Cancel avatar">
                                                <i class="ki ki-bold-close icon-xs text-muted"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div> #}
				                <div class="separator separator-dashed mt-10 mb-5"></div>
                                <div class="form-group row">
                                    <div class="col-lg-12 text-right">
                                        <button type="submit" class="btn btn-primary font-weight-bold">Guardar</button>
                                    </div>
                                </div>
                            </div>   
                        </div>
                    </form>
                </div>
                <div class="tab-pane px-7" id="kt_user_edit_tab_2" role="tabpanel">
                    <form class="form" @submit="onFormPassword" id="formPassword">
                        <div class="row justify-content-center">
                            <div class="col-xl-9">
                                <input name="panel" type="hidden" value="redes" />
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Contraseña</label>
                                    <div class="col-lg-9 col-xl-9">
                                        <div class="input-group input-group-lg input-group-solid">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="fas fa-key"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control form-control-lg form-control-solid" name="password" placeholder="" minlength="4" required/>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Repetir Contraseña</label>
                                    <div class="col-lg-9 col-xl-9">
                                        <div class="input-group input-group-lg input-group-solid">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="fas fa-key"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control form-control-lg form-control-solid" name="repeat" placeholder="" minlength="4" required/>
                                        </div>
                                    </div>
                                </div>
                                <div class="separator separator-dashed mt-10 mb-5"></div>
                                <div class="form-group row">
                                    <div class="col-lg-12 text-right">
                                        <button type="submit" class="btn btn-primary font-weight-bold">Guardar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}
<script>
    window.addEventListener('load', window.AppUserAdmin.profile(JSON.parse("{{ rsp.data|json_encode|e('js') }}")));
</script>
{% endblock %}