"use strict";var _this2=void 0,swal2=Object.freeze({show:function(e){Swal.close();var n=e.onOk,t=e.onCancel,o=e.onCallback;return delete e.onOk,delete e.onCancel,delete e.onCallback,e.allowEscapeKey=!1,e.allowOutsideClick=!1,new Promise((function(o,a){Swal.fire(e).then((function(e){e.isConfirmed?n&&n():t&&t()})),o()})).then((function(){o&&o()}))},loading:function(){return!1===(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])?Swal.close():Swal.fire({text:"Cargando ...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){Swal.showLoading()}})}});function AppEventFormHome(){var e=document.querySelector("#formEnrollmentUser");e&&e.addEventListener("submit",(function(n){n.preventDefault(),swal2.loading();var t=new FormData(n.target);fetch(window.location.href,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(n){swal2.show({html:n.message,icon:n.success?"success":"error",showCancelButton:!1,confirmButtonText:n.success?"Ir a medios de pago":"OK",onOk:function(){n.success&&(e.reset(),swal2.loading(),window.location.href="/pago/"+n.data.code)}})})).catch((function(e){console.error(e),swal2.loading(!1),alert("Hubo un error en el sistema.")}))}));var n=document.querySelector("#formPaymentUser");n&&n.addEventListener("submit",(function(e){e.preventDefault();var n=new FormData(e.target);swal2.show({html:"¿Estás seguro de guardar cambios?",icon:"question",showCancelButton:!0,onOk:function(){fetch(window.location.href,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){swal2.show({html:e.message,icon:e.success?"success":"error",showCancelButton:!1,onOk:function(){e.success&&(swal2.loading(),window.location.href="/pago/"+e.data.code)}})})).catch((function(e){console.error(e),swal2.loading(!1),alert("Hubo un error en el sistema.")}))}})})),$(".custom-file-input").on("change",(function(e){var n="Seleccionar Archivo";if(0<e.target.files.length){var t=e.target.files[0];t&&(n=t.name)}$(this).next().text(n)}))}window.swal2=swal2,window.addEventListener("load",AppEventFormHome()),console.log("Margatita te da la bienvenida");var frmSubscription=document.querySelector("#frmSubscription");frmSubscription&&frmSubscription.addEventListener("submit",(function(e){e.preventDefault();var n=new FormData(e.currentTarget);swal2.show({text:"Al subscribirte aceptas nuestras políticas de privacidad.",footer:'<p>Revisa nuestra <a href="/politica_privacidad" target="_blank">  políticas de provacidad</a></p>',confirmButtonText:"Continuar",cancelButtonText:"Cancelar",icon:"warning",showCancelButton:!0,onOk:function(){swal2.loading(),console.log(n),fetch("/contact/suscription",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){e.success,swal2.show({text:e.message,icon:e.success?"success":"error",showCancelButton:!1})})).catch((function(e){console.error(e),swal2.loading(!1),alert("Hubo un error en el sistema.")}))}})}));var frmMessage=document.querySelector("#frmMessage");frmMessage&&frmMessage.addEventListener("submit",(function(e){e.preventDefault();var n=new FormData(e.currentTarget);swal2.show({text:"Al envíar tus datos aceptas nuestras políticas de privacidad.",footer:'<p style="text-align:center">Revisa nuestras <a href="/politicas-de-privacidad" target="_blank">  políticas de privacidad</a> y <a href="/terminos-y-condiciones" target="_blank">  terminos y condiciones</a></p>',confirmButtonText:"Continuar",cancelButtonText:"Cancelar",icon:"warning",showCancelButton:!0,onOk:function(){swal2.loading(),console.log(n),fetch("/contact/message",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){e.success&&frmMessage.reset(),swal2.show({text:e.message,icon:e.success?"success":"error",showCancelButton:!1})})).catch((function(e){console.error(e),swal2.loading(!1),alert("Hubo un error en el sistema.")}))}})}));