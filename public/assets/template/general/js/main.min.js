"use strict";$(".acordion").mouseover((function(){$(".acordion").removeClass("shadow"),$(".acordion").removeClass("acordion-active"),$(this).addClass("shadow"),$(this).addClass("acordion-active"),$(this).find(".collapse").collapse("show");var e=$(this).attr("data-id");$(".presentacion-body .item_presentacion").removeClass("active"),$("#img_"+e).addClass("active");var t=document.getElementById("video_"+e);t&&t.play()})),$(".acordion").on("click",(function(){$(".acordion").removeClass("shadow"),$(this).addClass("shadow")})),$(".acordion").mouseover();var AppAverageCompany=function(){this.init=function(e){new Vue({el:"#AppAverageCompany",data:function(){return{code:e.code,graph:e.system.graph}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphLine(this.graph.general)},onGraphLine:function(e){am4core.ready((function(){AppChartSystem.onPointAMV2({scope:"lineChart",data:e})}))}}})}};window.AppAverageCompany=new AppAverageCompany;var AppAverageDeveloped=function(){this.init=function(e){new Vue({el:"#AppAverageDeveloped",data:function(){return{code:e.code,graph:e.system.graph}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphLine(this.graph.general)},onGraphLine:function(e){am4core.ready((function(){AppChartSystem.onPointAMV2({scope:"lineChart",data:e})}))},onGraphLine2:function(e){am4core.ready((function(){for(var t=0,o=0;o<e.length;o++){var n=Number(e[o].x);t=n>=t?n:t}am4core.useTheme(am4themes_animated);var r=am4core.create("lineChart",am4charts.XYChart);r.data=[];var a=r.xAxes.push(new am4charts.ValueAxis);a.renderer.grid.template.location=0,a.min=0,a.max=t;var s=r.yAxes.push(new am4charts.ValueAxis);s.numberFormatter=new am4core.NumberFormatter,s.numberFormatter.numberFormat="#.#'%'";console.log(e);for(var c=0;c<e.length;c++)i(e[c]);function i(e){var t=r.series.push(new am4charts.LineSeries);t.dataFields.valueY="y",t.dataFields.valueX="x",t.strokeOpacity=5,t.data=[{y:e.y,x:e.x}];var o=t.bullets.push(new am4charts.CircleBullet);o.tooltipText="[bold]{y} %[/]",o.circle.stroke=am4core.color("#fff"),o.circle.fill=am4core.color("#02abde");var n=t.bullets.push(new am4charts.LabelBullet);n.label.text="{y}%",n.label.dy=5,n.label.dx=-30,0==e.x&&(n.label.dx=30);var a=r.series.push(new am4charts.LineSeries);a.dataFields.valueY="vy",a.dataFields.valueX="vx",a.strokeWidth=2,a.strokeOpacity=.7,a.minBulletDistance=10,a.data=[{vx:e.x1,vy:e.y1},{vx:e.x2,vy:e.y2}],a.propertyFields.strokeDasharray="lineDash",a.tooltip.label.textAlign="end";var s=a.bullets.push(new am4charts.LabelBullet);s.label.text=e.label,s.label.dy=5,s.label.dx=-150,s.label.textAlign="start",2==e.line&&(a.strokeDasharray="3,4")}}))}}})}};window.AppAverageDeveloped=new AppAverageDeveloped;var AppAverageEmerging=function(){this.init=function(e){new Vue({el:"#AppAverageEmerging",data:function(){return{code:e.code,graph:e.system.graph}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphLine(this.graph.general)},onGraphLine:function(e){am4core.ready((function(){AppChartSystem.onPointAMV2({scope:"lineChart",data:e})}))}}})}};window.AppAverageEmerging=new AppAverageEmerging;var AppCalculation=function(){this.init=function(e){new Vue({el:"#AppCalculation",data:function(){return{bonus:"Bono EE.UU",code:e.code,instrument:e.system.instrument,instruments:e.system.instruments,graph:e.system.graph,redirect:"#"}},created:function(){},mounted:function(){this.onload()},watch:{},computed:{},methods:{onChangeGraph:function(e){var t=e.target.value,o=this,n=new FormData;n.append("order",t),n.append("code",o.code),sweet2.loading(!1),sweet2.loading(),fetch("/system/filterRiskLevel",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){e.success&&o.onGraph(e.data.system.graph),sweet2.loading(!1)})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))},onCalculation:function(e){e.preventDefault();var t=this,o=new FormData(document.getElementById("frmCalculation"));o.append("code",this.code);var n=o.get("instrument");t.instruments.includes(n)||sweet2.show({type:"error",text:"El instrumento es un valor incorrecto"}),sweet2.loading(!1),sweet2.loading(),fetch("/system/onCalculation",{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){sweet2.loading(!1),e.success?(t.onRedirect(),"Bono EE.UU"!=n&&$("#modal-info-1").modal("show")):sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))},onload:function(){this.onGraph(this.graph),this.onRedirect()},onRedirect:function(){for(var e=document.getElementsByName("instrument"),t=0,o=e.length;t<o;t++)if(e[t].checked){this.redirect=0==t?"/rendimiento/"+this.code:"/flujos/"+this.code;break}},onGraph:function(e){am4core.ready((function(){AppChartSystem.onColumnAll({scope:"myChart",data:e})}))}}})}};window.AppCalculation=new AppCalculation;var AppCurvePerformance=function(){this.init=function(e){new Vue({el:"#AppCurvePerformance",data:function(){return{code:e.code,graph:e.system.graph}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onPeriod:function(e){var t=this,o=new FormData;o.append("code",this.code),o.append("period",e.target.value),sweet2.loading(!1),sweet2.loading(),fetch("/system/onCurvePerformance",{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){e.success?(t.graph=e.data.graph.performance,t.onGraph(t.graph),sweet2.loading(!1)):(sweet2.loading(!1),sweet2.show({type:e.success?"success":"error",text:e.message}))})).catch((function(e){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))},onLoad:function(){this.onGraph(this.graph.performance)},onGraph:function(e){am4core.ready((function(){AppChartSystem.oncurve({scope:"myChart",data:e})}))}}})}};window.AppCurvePerformance=new AppCurvePerformance,$("#formCreateRecord").off("submit"),$("#formCreateRecord").on("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);sweet2.loading(!1),sweet2.question({html:"¿Estás seguro de iniciar un nuevo cálculo?",onOk:function(){sweet2.loading(),fetch("/system/onCreateRecord",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success?($("#modal-record").modal("hide"),location.href="/calcula/"+e.data.report.code):(sweet2.loading(!1),sweet2.show({type:e.success?"success":"error",text:e.message}))})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}})})),$("#formCreateSectorial").off("submit"),$("#formCreateSectorial").on("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);sweet2.loading(!1),sweet2.question({html:"¿Estás seguro de iniciar un nuevo cálculo?",onOk:function(){sweet2.loading(),fetch("/system/onCreateSectorial",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success?($("#modal-record").modal("hide"),location.href="/calcula/"+e.data.report.code):(sweet2.loading(!1),sweet2.show({type:e.success?"success":"error",text:e.message}))})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}})})),$("#formSaveUser").off("submit"),$("#formSaveUser").on("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);sweet2.loading(!1),sweet2.question({html:"¿Estás seguro de guardar cambios?",onOk:function(){sweet2.loading(),fetch("/system/onSaveUserData",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){sweet2.loading(!1),sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}})})),$("#formSavePassword").off("submit"),$("#formSavePassword").on("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);sweet2.loading(!1),sweet2.question({html:"¿Estás seguro de cambiar su contraseña?",onOk:function(){sweet2.loading(),fetch("/system/onSavePassword",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success&&document.getElementById("formSavePassword").reset(),sweet2.loading(!1),sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}})})),$("#formPaymentTransfer").off("submit"),$("#formPaymentTransfer").on("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);swal2.loading(!1),swal2.show({icon:"question",html:"¿Estás seguro de enviar?",showCancelButton:!0,onOk:function(){swal2.loading(),fetch("/pagos/transfer",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){swal2.show({icon:e.success?"success":"error",html:e.message,onOk:function(){e.success&&(swal2.loading(),location.reload())}})})).catch((function(){swal2.show({icon:"error",text:"Hubo un error en el sistema."})}))}})}));var AppDetailFlows=function(){this.init=function(e){new Vue({el:"#AppDetailFlows",data:function(){return{code:e.code,horizon:e.system.horizon,period:e.system.period,periodicity:e.system.periodicity,flows:e.system.flows,horizons:e.system.horizons,periods:e.system.periods,periodicities:e.system.periodicities,instrument:0,performance:0,duration:0}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onCalculation:function(){var e=this,t=new FormData;t.append("code",this.code),t.append("horizon",this.horizon),t.append("periodicity",this.periodicity),sweet2.loading(!1),sweet2.loading(),fetch("/system/onCalculationFlow",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){if(t.success){e.period=t.data.system.period;var o=e.flows.length,n=[];if(o!=e.period)if(e.period>o)for(var r=0;r<=e.period+1;r++)r>o&&e.flows.push(Object.assign({box:0,investment:0}));else{for(var a=0;a<=e.period;a++)n.push(Object.assign({box:e.flows[a].box,investment:e.flows[a].investment}));e.flows=n}sweet2.loading(!1)}else sweet2.show({type:t.success?"success":"error",text:t.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))},onCalculationDetail:function(e){var t=this;e.preventDefault();try{if(!(t.flows.length>0))throw"La cantidad de flujos debe ser mayor a 0";for(var o=[],n=0;n<t.flows.length;n++){var r=t.flows[n];if(!(r.box>=0))throw"El campo de flujo de caja de la fila ".concat(n," no tiene un formato correcto");if(!(r.investment>=0))throw"El campo de flujo de inversiones de la fila ".concat(n," no tiene un formato correcto");o.push({box:r.box,investment:r.investment})}sweet2.loading(!1),sweet2.loading();var a=new FormData(e.currentTarget);a.append("code",t.code),a.append("flows",JSON.stringify(o)),fetch("/system/onCalculationDetailFlow",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){sweet2.loading(!1),e.success?(t.instrument=e.data.system.instrument,t.performance=e.data.system.performance,t.duration=e.data.system.duration,t.onGraph(e.data.system.graph.performance),$("#modal-risk-free").modal({backdrop:"static",keyboard:!1})):sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}catch(e){sweet2.show({type:"error",text:e})}},onLoad:function(){},onGraph:function(e){am4core.ready((function(){AppChartSystem.oncurve({scope:"myChart",data:e})}))}}})}};window.AppDetailFlows=new AppDetailFlows;var frmContactUser=document.querySelector("#frmContactUser");function registrar(){event.preventDefault(),$("#iniciar_sesion").css("display","none"),$("#registrar_cuenta").css("display","block")}function init_sesion(){event.preventDefault(),$("#registrar_cuenta").css("display","none"),$("#iniciar_sesion").css("display","block")}frmContactUser&&frmContactUser.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);try{if(!(t.get("names").length>0))throw"Nombres y Apellidos es un campo obligatorio";if(!(t.get("email").length>0))throw"Correo es un campo obligatorio";if(!(t.get("description").length>0))throw"Descripción es un campo obligatorio";swal2.loading(),fetch("/sendContact",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){swal2.show({text:e.message,icon:e.success?"success":"error",showCancelButton:!1,onOk:function(){e.success&&frmContactUser.reset()}})})).catch((function(e){console.error(e),swal2.loading(!1),alert("Hubo un error en el sistema.")}))}catch(e){swal2.show({text:e,icon:"error",showCancelButton:!1})}})),$("#sing-out").click((function(){fetch("/sing-out",{method:"POST",body:{}}).then((function(e){return e.json()})).then((function(e){e.success?location.href="/":alert(e.message)})).catch((function(){alert("Hubo un error en el sistema.")}))}));var frmLogin=document.querySelector("#frmLogin");frmLogin&&frmLogin.addEventListener("submit",(function(e){e.preventDefault(),sweet2.loading();var t=new FormData(e.currentTarget);fetch("/postLogin",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){if(!e.success)return sweet2.loading(!1),void sweet2.show({type:"error",text:e.message});location.href="/historial"})).catch((function(){sweet2.loading(!1),sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}));var frmRegister=document.querySelector("#frmRegister");function copiarAlPortapapeles(e){$("#"+e).select(),document.execCommand("copy")}frmRegister&&frmRegister.addEventListener("submit",(function(e){e.preventDefault(),swal2.loading();var t=new FormData(e.currentTarget);fetch("/register-user",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){sweet2.loading(!1),e.success?sweet2.show({text:e.message,type:e.success?"success":"error",showCancelButton:!1,onOk:function(){e.success&&(location.href="/login")}}):alert(e.message)})).catch((function(){sweet2.loading(!1),sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}));var frmForgotPasswordUser=document.querySelector("#frmForgotPasswordUser");frmForgotPasswordUser&&frmForgotPasswordUser.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget);try{if(!(t.get("email").length>0))throw"Correo es un campo obligatorio";swal2.loading(),fetch("/forgotPasswordUser",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){swal2.show({text:e.message,icon:e.success?"success":"error",showCancelButton:!1,onOk:function(){e.success&&frmForgotPasswordUser.reset()}})})).catch((function(e){console.error(e),swal2.loading(!1),alert("Hubo un error en el sistema.")}))}catch(e){swal2.show({text:e,icon:"error",showCancelButton:!1})}}));var frmRecoverPassword=document.querySelector("#frmRecoverPassword");frmRecoverPassword&&frmRecoverPassword.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.currentTarget),o=frmRecoverPassword.getAttribute("action");try{if(!(t.get("password").length>0))throw"La contraseña es un campo obligatorio";if(t.get("password").length<=3)throw"La contraseña debe de tener como minimo una longitd de 4 carácteres";if(!(t.get("repeat_password").length>0))throw"Debe de repetir la contraseña";if(t.get("password")!=t.get("repeat_password"))throw"Las contraseñas deben de ser iguales";swal2.loading(),fetch(o,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){swal2.show({text:e.message,icon:e.success?"success":"error",showCancelButton:!1,onOk:function(){e.success&&(window.location.href="/login")}})})).catch((function(e){console.error(e),swal2.loading(!1),alert("Hubo un error en el sistema.")}))}catch(e){swal2.show({text:e,icon:"error",showCancelButton:!1})}}));var AppParameterCompany=function(){this.init=function(e){new Vue({el:"#AppParameterCompany",data:function(){return{code:e.code,graph:e.system.graph}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphGroup(this.graph.general)},onGraphGroup:function(e){am4core.ready((function(){AppChartSystem.onGroupPM({scope:"groupChart",data:e})}))}}})}};window.AppParameterCompany=new AppParameterCompany;var AppParameterDeveloped=function(){this.init=function(e){new Vue({el:"#AppParameterDeveloped",data:function(){return{code:e.code,graph:e.system.graph}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphGroup(this.graph.general)},onGraphGroup:function(e){am4core.ready((function(){AppChartSystem.onGroupPM({scope:"groupChart",data:e})}))}}})}};window.AppParameterDeveloped=new AppParameterDeveloped;var AppParameterEmerging=function(){this.init=function(e){new Vue({el:"#AppParameterEmerging",data:function(){return{code:e.code,graph:e.system.graph}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphGroup(this.graph.general)},onGraphGroup:function(e){am4core.ready((function(){AppChartSystem.onGroupPM({scope:"groupChart",data:e})}))}}})}};window.AppParameterEmerging=new AppParameterEmerging;var AppRecordCost=function(){this.init=function(e){new Vue({el:"#AppRecordCost",data:function(){return{reports:e?e.reports:[],template:Object.create(e?e.template:{})}},created:function(){},mounted:function(){this.dataTable()},watch:{},computed:{},methods:{onFormRecord:function(){$("#modal-record").modal()},onCreateRecord:function(e){e.preventDefault();var t=new FormData(e.currentTarget);sweet2.loading(!1),sweet2.question({html:"¿Estás seguro de iniciar un nuevo cálculo?",onOk:function(){sweet2.loading(),fetch("/system/onCreateRecord",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success?($("#modal-record").modal("hide"),location.href="/calcula/"+e.data.report.code):(sweet2.loading(!1),sweet2.show({type:e.success?"success":"error",text:e.message}))})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}})},onDelete:function(e,t){var o=this,n=new FormData;n.append("code",e),sweet2.question({html:"¿Estás seguro de eliminar?",onOk:function(){sweet2.loading(!1),sweet2.loading(),fetch("/system/deleteReport",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){e.success?($("#table-report").DataTable().destroy(),o.reports.splice(t,1),setTimeout((function(){o.dataTable(),sweet2.show({type:e.success?"success":"error",text:e.message})}),50)):sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}})},onNewVersion:function(e,t){var o=this,n=new FormData;n.append("code",e),sweet2.question({html:"¿Estás seguro de actualizar a la nueva versión?",onOk:function(){sweet2.loading(!1),sweet2.loading(),fetch("/system/updateNewVersion",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){e.success?($("#table-report").DataTable().destroy(),Object.assign(o.reports[t],e.data.report),setTimeout((function(){o.dataTable(),sweet2.show({type:e.success?"success":"error",text:e.message})}),50)):sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}})},dataTable:function(){$("#table-report").DataTable({language:{lengthMenu:"Mostrar _MENU_ registros por página.",zeroRecords:"No se encontraron registros.",info:"Se muestra _PAGE_ de _PAGES_",infoEmpty:"No se encontraron\tcoincidencias",infoFiltered:"(Busqueda en _MAX_ del total de registros)",search:"Buscar:"},ordering:!1})}}})}};window.AppRecordCost=new AppRecordCost;var AppReportCompany=function(){this.init=function(e){new Vue({el:"#AppReportCompany",data:function(){return{code:e.code,graph:e.system.graph}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphColumnGroup(this.graph.general)},onGraphColumnGroup:function(e){am4core.ready((function(){AppChartSystem.onColumnHztRC({scope:"groupChart",data:e})}))}}})}};window.AppReportCompany=new AppReportCompany;var AppStructureCompany=function(){this.init=function(e){new Vue({el:"#AppStructureCompany",data:function(){return{code:e.code,graph:e.system.graph,general:e.system.general,prima:e.system.prima,opercentage:e.system.percentage,currency:"",percentage:0}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphGroup(this.graph.general)},onCurrency:function(e,t){this.currency=t,this.percentage=e,$("#modal-currency").modal()},onPercentageInvestment:function(e){e.preventDefault();var t=this,o=new FormData(e.currentTarget);o.append("code",this.code),sweet2.loading(!1),sweet2.loading(),fetch("/system/onPercentageInvestment",{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){if(sweet2.loading(!1),e.success){var o=e.data.system;t.graph=o.graph,t.general=o.general,t.prima=o.prima,t.opercentage=o.percentage,t.onGraphGroup(t.graph.general)}else sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))},onFormPercentage:function(e){e.preventDefault();var t=this,o=new FormData(e.currentTarget);o.append("code",this.code),sweet2.loading(!1),sweet2.loading(),fetch("/system/onPercentageCurrencyCompany",{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){if(sweet2.loading(!1),e.success){$("#modal-currency").modal("hide");var o=e.data.system;t.graph=o.graph,t.general=o.general,t.prima=o.prima,t.opercentage=o.percentage,t.onGraphGroup(t.graph.general)}else sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))},onGraphGroup:function(e){am4core.ready((function(){AppChartSystem.onGroupSM({scope:"groupChart",data:e})}))}}})}};window.AppStructureCompany=new AppStructureCompany;var AppStructureDeveloped=function(){this.init=function(e){new Vue({el:"#AppStructureDeveloped",data:function(){return{code:e.code,graph:e.system.graph}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphGeneral(this.graph.general),this.onGraphGroup(this.graph.structure)},onGraphGroup:function(e){am4core.ready((function(){AppChartSystem.onGroupSM({scope:"groupChart",data:e})}))},onGraphGeneral:function(e){am4core.ready((function(){AppChartSystem.onColumnSM({scope:"generalChart",data:e})}))}}})}};window.AppStructureDeveloped=new AppStructureDeveloped;var AppStructureEmerging=function(){this.init=function(e){new Vue({el:"#AppStructureEmerging",data:function(){return{code:e.code,graph:e.system.graph,general:e.system.general,finance:e.system.finance,countries:e.system.countries,country:e.system.country}},created:function(){},mounted:function(){this.onLoad()},watch:{},computed:{},methods:{onLoad:function(){this.onGraphGroup(this.graph.general)},onDevaluation:function(e){e.preventDefault();var t=this,o=new FormData(e.currentTarget);o.append("code",this.code),sweet2.question({html:"¿Estás seguro de guardar cambios?",onOk:function(){sweet2.loading(!1),sweet2.loading(),fetch("/system/onDevaluationEmerging",{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){if(sweet2.loading(!1),e.success){var o=e.data.system;t.graph=o.graph,t.general=o.general,t.finance=o.finance,t.country=o.country,t.onGraphGroup(o.graph.general)}else sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(e){console.error(e),sweet2.loading(!1),sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}})},onCountry:function(e){for(var t=this,o=e.target.value,n=!1,r=0;r<t.countries.length;r++)o.trim()==t.countries[r].trim()&&(n=!0);if(n){var a=new FormData;a.append("code",this.code),a.append("country",o),sweet2.loading(!1),sweet2.loading(),fetch("/system/onCountryEmerging",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){if(sweet2.loading(!1),e.success){var n=e.data.system;t.graph=n.graph,t.general=n.general,t.finance=n.finance,t.country=o,t.onGraphGroup(n.graph.general)}else sweet2.show({type:e.success?"success":"error",text:e.message})})).catch((function(){sweet2.show({type:"error",text:"Hubo un error en el sistema."})}))}else sweet2.show({type:"error",text:"Seleccione un país existente."})},onGraphGroup:function(e){am4core.ready((function(){AppChartSystem.onGroupSM({scope:"groupChart",data:e})}))}}})}};window.AppStructureEmerging=new AppStructureEmerging;